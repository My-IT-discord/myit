<!DOCTYPE html>
<html>
    <head>
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="keywords" content="myit,discord,myit group,myit discord,myit blog">
		<meta name="google-site-verification" content="83LPbk82eG6tQKFl9DpDoI6UuRrbyKOPEnB5xL29R4Q" />
		<link rel="icon" href="https://media.discordapp.net/attachments/924845584521789513/936584105292877824/myItMyimg-modified.png">
		<meta content="{My-IT}程式討論區" property="og:title" />
		<meta content="有點久沒寫Django，來寫個最簡單的註冊系統吧" property="og:description" />
		<meta content="https://myitblog.tk/blog/20-1-2023/20-1-2023" property="og:url" />
		<meta content="styles/img/myItMyimg-modified.png" property="og:image" />
		<meta content="#3c3c3c" data-react-helmet="true" name="theme-color" />
		<meta property="og:site_name" content="myitblog.tk" />
		<meta property="og:title" content="{My-IT}程式討論區" />
		<meta property="og:url" content="有點久沒寫Django，來寫個最簡單的註冊系統吧" />
		<meta property="og:type" content="website" />
		<meta property="og:description" content="myit blog" />
		<meta itemprop="name" content="myit blog" />
		<meta itemprop="url" content="https://myitblog.tk/blog/20-1-2023/20-1-2023" />
		<meta itemprop="description" content="有點久沒寫Django，來寫個最簡單的註冊系統吧" />
		<meta name="description" content="有點久沒寫Django，來寫個最簡單的註冊系統吧">
		<meta name="title" content="{My-IT}程式討論區">
		<title>Blog-{My-IT}程式討論區</title>
        <link rel="stylesheet" href="20-1-2023.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC|Open+Sans&display=swap" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
		<script src="https://kit.fontawesome.com/68f8681dba.js" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	</head>
<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
       <a class="navbar-brand" href="https://myitblog.tk/index.html"><img src='MyIT.png' width='155'></a>
   <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
     <span class="navbar-toggler-icon"></span>
   </button>
   <div class="collapse navbar-collapse" id="navbarSupportedContent">
     <ul class="navbar-nav me-auto mb-2 mb-lg-0">
       <li class="nav-item">
         <a class="nav-link" id="links" aria-current="page" href="https://myitblog.tk/index.html">主頁</a>
       </li>
       <li class="nav-item">
         <a class="nav-link" id="links" href="https://discord.gg/myit">加入Discord</a>
       </li>
       <li class="nav-item">
         <a class="nav-link" id="links" href="https://github.com/hello1234316/myit">Github原代碼</a>
       </li>
       <li class="nav-item">
         <a class="nav-link" id="links" href="https://myitblog.tk/blog">部落格</a>
       </li>
     </ul>
   </div>
 </div>
</nav>

    <section class="dark">
        <div class="container py-4">
            <h1 class="h1 text-center" id="pageHeaderTitle">有點久沒寫Django，來寫個最簡單的註冊系統吧</h1>
    
            <article class="postcard dark blue">
                <div class="postcard__text">
                    <h1 class="postcard__title blue">有點久沒寫Django，來寫個最簡單的註冊系統吧</h1>
                    <div class="postcard__subtitle small">
                        <time datetime="2023-01-20 20:05">
                            <i class="fas fa-calendar-alt mr-2"></i> — 20/01/2023 20:05
                        </time>
                    </div>
                    <div class="postcard__bar"></div>

                    <div class="postcard__preview-txt">

                            <p>forms.py</p>
                            <pre><code class="language-python">
   from django import forms
   from django.contrib.auth.models import User
   from django.contrib.auth.forms import UserCreationForm
                                   
   class UserRegistrationForm(UserCreationForm):
       email = forms.EmailField()
                                       
       class Meta:
           model = User
           fields = ['username', 'email', 'password1', 'password2']
        
        </code></pre>
                                        <p>views.py</p>
                                        <pre><code class="language-python">
   from django.contrib import auth
   from django.http import HttpResponse
   from .forms import UserRegistrationForm
   from django.contrib.auth import authenticate
   from django.shortcuts import render, redirect
   
   def register(request):
       if request.method == 'POST':
           form = UserRegistrationForm(request.POST)
           if form.is_valid():
               form.save()
               return redirect('login')
       else:
           form = UserRegistrationForm()
       return render(request, 'register.html', {'form': form})
   
   def login(request):
       if request.method == 'POST':
           username = request.POST['username']
           password = request.POST['password']
           user = authenticate(username=username, password=password)
           if user is not None:
               if user.is_active:
                   auth.login(request, user)
                   return redirect('profile')
       return render(request, 'login.html')
   
   def profile(request):
       return render(request, 'profile.html')
    
    </code></pre>

                                         <p>urls.py</p>
                                        <pre><code class="language-python">
   from app import views
   from django.urls import path
   from django.contrib import admin
   
   urlpatterns = [
       path('admin/', admin.site.urls),
       path('register/', views.register, name='register'),
       path('login/', views.login, name='login'),
       path('profile/', views.profile, name='profile')
   ]

</code></pre>                    
<p>1. 新建register.html, login.html, profile.html<br><br>
    2. 並在<code><</code><code>input></code>中的name的值必須是 'username', 'email', 'password1', 'password2'，或是可以使用Django內建的Template <code>{{ form.as_p }}</code>來完成register所有的<code><</code><code>input></code>和submit button<br><br>
    3. 最後別忘了在HTML加上<code>{% csrf_token %}</code><br>
    可以在Django的管理員頁面127.0.0.1/admin中，看到註冊用戶的username和email 
</p>
                    </div>
                </div>
            </article>

            
            
          
           
        </div>
    </section>


    <footer> 
	        
        <div class="container">
            <div class='row'>
                  <div class='col-md-4 text-left'>
                      <img src='MyIT.png' width='100'>
                      <p>{My-IT}程式討論區</p>
                      <p>{My-IT}▸ 一個程式討論群組</p>
                      <p>果然是我熟悉的myit 還是那麼的不營養</p>
                      <p>&copy {My-IT}程式討論區 2022-2023</p>
                  </div>
                        <div class='col-md-4 text-right'>
                        <h4>連結</h4>
                        <ul>
                          <li><a href='https://myitblog.tk/index.html'>主頁</a></li>
                          <li><a href='https://discord.gg/myit'>加入Discord</a></li>
                        </ul>
                        <ul>
                          <li><a href='https://github.com/hello1234316/myit'>Github原代碼</a></li>
                          <li><a href='https://myitblog.tk/blog'>部落格</a></li>
                        </ul>						  
                  </div>
            </div>
        </div>	        
    
    </footer>
    

<script src="https://cdn.jsdelivr.net/npm/@widgetbot/crate@3" async defer>
new Crate({
  server: "808945802100736050",
  channel: "887690164657340466",
  glyph: [
    "https://media.discordapp.net/attachments/924845584521789513/936584105292877824/myItMyimg-modified.png",
    "100%"
  ]
})
</script>
<script src="https://myitblog.tk/js/animation.js"></script>
</body>

</html>
